{"ast":null,"code":"var _jsxFileName = \"/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../css/Admin.css'; // Ensure CSS file path is correct\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPortal = () => {\n  _s();\n  const [residentialPumps, setResidentialPumps] = useState([]);\n  const [agriculturalPumps, setAgriculturalPumps] = useState([]);\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState(null);\n  const [isAddingPump, setIsAddingPump] = useState(false);\n  const [newPump, setNewPump] = useState({\n    name: '',\n    price: '',\n    description: '',\n    image: ''\n  });\n\n  // Fetch pumps data from backend (residential and agricultural)\n  useEffect(() => {\n    axios.get('http://localhost:5001/api/pumps').then(response => setResidentialPumps(response.data)).catch(error => console.error('Error fetching pumps:', error));\n    axios.get('http://localhost:5001/api/agpumps').then(response => setAgriculturalPumps(response.data)).catch(error => console.error('Error fetching agricultural pumps:', error));\n  }, []);\n\n  // Handle image upload\n  const handleImageUpload = async e => {\n    const files = e.target.files;\n    const formData = new FormData();\n    if (files.length > 0) {\n      formData.append('image', files[0]);\n      try {\n        const response = await axios.post('http://localhost:5001/api/upload', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        setImage(response.data.filePath);\n      } catch (err) {\n        console.error('Error uploading image:', err);\n        setError('Error uploading image.');\n      }\n    }\n  };\n\n  // Handle adding a new pump\n  const handleAddPump = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/add-pump', newPump);\n      alert(response.data.message);\n      setIsAddingPump(false); // Hide the form after adding the pump\n      // Optionally, refresh the pump list\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError('Error adding pump.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-portal\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Portal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-catalog\",\n        onClick: () => setIsAddingPump(true),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add New Pump\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), isAddingPump && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-pump-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Pump Name\",\n          value: newPump.name,\n          onChange: e => setNewPump({\n            ...newPump,\n            name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Price\",\n          value: newPump.price,\n          onChange: e => setNewPump({\n            ...newPump,\n            price: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Description\",\n          value: newPump.description,\n          onChange: e => setNewPump({\n            ...newPump,\n            description: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleImageUpload\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5001/${image}`,\n          alt: \"Pump\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddPump,\n          children: \"Add Pump\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pump-gallery\",\n        children: residentialPumps.map(pump => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pump-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:5001/${pump.image}`,\n            alt: pump.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pump-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pump-name\",\n              children: pump.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pump-price\",\n              children: pump.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, pump._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPortal, \"moQULatwQ7OhTLuXC453htsORaY=\");\n_c = AdminPortal;\nexport default AdminPortal;\nvar _c;\n$RefreshReg$(_c, \"AdminPortal\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","AdminPortal","_s","residentialPumps","setResidentialPumps","agriculturalPumps","setAgriculturalPumps","image","setImage","error","setError","isAddingPump","setIsAddingPump","newPump","setNewPump","name","price","description","get","then","response","data","catch","console","handleImageUpload","e","files","target","formData","FormData","length","append","post","headers","filePath","err","handleAddPump","alert","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","src","alt","map","pump","_id","_c","$RefreshReg$"],"sources":["/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../css/Admin.css'; // Ensure CSS file path is correct\n\nconst AdminPortal = () => {\n  const [residentialPumps, setResidentialPumps] = useState([]);\n  const [agriculturalPumps, setAgriculturalPumps] = useState([]);\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState(null);\n  const [isAddingPump, setIsAddingPump] = useState(false);\n  const [newPump, setNewPump] = useState({\n    name: '',\n    price: '',\n    description: '',\n    image: '',\n  });\n\n  // Fetch pumps data from backend (residential and agricultural)\n  useEffect(() => {\n    axios\n      .get('http://localhost:5001/api/pumps')\n      .then((response) => setResidentialPumps(response.data))\n      .catch((error) => console.error('Error fetching pumps:', error));\n\n    axios\n      .get('http://localhost:5001/api/agpumps')\n      .then((response) => setAgriculturalPumps(response.data))\n      .catch((error) => console.error('Error fetching agricultural pumps:', error));\n  }, []);\n\n  // Handle image upload\n  const handleImageUpload = async (e) => {\n    const files = e.target.files;\n    const formData = new FormData();\n\n    if (files.length > 0) {\n      formData.append('image', files[0]);\n\n      try {\n        const response = await axios.post('http://localhost:5001/api/upload', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' },\n        });\n        setImage(response.data.filePath);\n      } catch (err) {\n        console.error('Error uploading image:', err);\n        setError('Error uploading image.');\n      }\n    }\n  };\n\n  // Handle adding a new pump\n  const handleAddPump = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/add-pump', newPump);\n      alert(response.data.message);\n      setIsAddingPump(false);  // Hide the form after adding the pump\n      // Optionally, refresh the pump list\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError('Error adding pump.');\n    }\n  };\n\n  return (\n    <div className=\"admin-portal\">\n      <h1>Admin Portal</h1>\n\n      <div className=\"gallery-container\">\n        <div className=\"empty-catalog\" onClick={() => setIsAddingPump(true)}>\n          <span>+</span>\n          <p>Add New Pump</p>\n        </div>\n\n        {/* Show the input fields to add a new pump */}\n        {isAddingPump && (\n          <div className=\"add-pump-form\">\n            <input\n              type=\"text\"\n              placeholder=\"Pump Name\"\n              value={newPump.name}\n              onChange={(e) => setNewPump({ ...newPump, name: e.target.value })}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Price\"\n              value={newPump.price}\n              onChange={(e) => setNewPump({ ...newPump, price: e.target.value })}\n            />\n            <textarea\n              placeholder=\"Description\"\n              value={newPump.description}\n              onChange={(e) => setNewPump({ ...newPump, description: e.target.value })}\n            />\n            <input type=\"file\" onChange={handleImageUpload} />\n            {image && <img src={`http://localhost:5001/${image}`} alt=\"Pump\" />}\n            <button onClick={handleAddPump}>Add Pump</button>\n          </div>\n        )}\n\n        {/* Display Pumps */}\n        <div className=\"pump-gallery\">\n          {residentialPumps.map((pump) => (\n            <div key={pump._id} className=\"pump-item\">\n              <img src={`http://localhost:5001/${pump.image}`} alt={pump.name} />\n              <div className=\"pump-info\">\n                <p className=\"pump-name\">{pump.name}</p>\n                <p className=\"pump-price\">{pump.price}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {error && <p className=\"error\">{error}</p>}\n    </div>\n  );\n};\n\nexport default AdminPortal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}