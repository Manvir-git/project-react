{"ast":null,"code":"var _jsxFileName = \"/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import '../css/Admin.css'; // Ensure CSS file path is correct\n\n// const AdminPortal = () => {\n//   const [residentialPumps, setResidentialPumps] = useState([]);\n//   const [agriculturalPumps, setAgriculturalPumps] = useState([]);\n//   const [image, setImage] = useState(null);\n//   const [error, setError] = useState(null);\n//   const [currentView, setCurrentView] = useState('residential');\n//   const [showAddForm, setShowAddForm] = useState(false); // Manage visibility of the add pump form\n//   const [newPumpData, setNewPumpData] = useState({\n//     name: '',\n//     price: '',\n//     description: '',\n//     image: ''\n//   });\n\n//   // Fetch residential pumps data\n//   useEffect(() => {\n//     axios\n//       .get('http://localhost:5001/api/pumps')\n//       .then((response) => setResidentialPumps(response.data))\n//       .catch((error) => console.error('Error fetching residential pumps:', error));\n//   }, []);\n\n//   // Fetch agricultural pumps data\n//   useEffect(() => {\n//     axios\n//       .get('http://localhost:5001/api/agpumps')\n//       .then((response) => setAgriculturalPumps(response.data))\n//       .catch((error) => console.error('Error fetching agricultural pumps:', error));\n//   }, []);\n\n//   // Handle image upload\n//   const handleImageUpload = async (e) => {\n//     const files = e.target.files;\n//     const formData = new FormData();\n//     formData.append('image', files[0]);\n\n//     try {\n//       const response = await axios.post('http://localhost:5001/api/upload', formData);\n//       setImage(response.data.filePath); // Assuming backend returns filePath\n//     } catch (err) {\n//       console.error('Error uploading image:', err);\n//       setError('Error uploading image.');\n//     }\n//   };\n\n//   // Handle new pump form input change\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setNewPumpData((prevState) => ({\n//       ...prevState,\n//       [name]: value\n//     }));\n//   };\n\n//   // Handle adding new pump to the database\n//   const handleAddPump = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const pumpData = { ...newPumpData, image: image }; // Include image path in the pump data\n//       await axios.post('http://localhost:5001/api/pumps', pumpData);\n//       setShowAddForm(false); // Close the form after submitting\n//       setNewPumpData({ name: '', price: '', description: '', image: '' }); // Reset form data\n//       // Reload residential pumps after adding a new one\n//       const response = await axios.get('http://localhost:5001/api/pumps');\n//       setResidentialPumps(response.data);\n//     } catch (error) {\n//       console.error('Error adding new pump:', error);\n//       setError('Error adding new pump.');\n//     }\n//   };\n\n//   return (\n//     <div className=\"admin-portal\">\n//       <h1>Admin Portal</h1>\n\n//       {/* Sidebar for toggling views */}\n//       <div className=\"sidebar\">\n//         <button\n//           className={`sidebar-btn ${currentView === 'residential' ? 'active' : ''}`}\n//           onClick={() => setCurrentView('residential')}\n//         >\n//           Residential Pumps\n//         </button>\n//         <button\n//           className={`sidebar-btn ${currentView === 'agricultural' ? 'active' : ''}`}\n//           onClick={() => setCurrentView('agricultural')}\n//         >\n//           Agricultural Pumps\n//         </button>\n//       </div>\n\n//       {/* Add New Pump Catalog */}\n//       <div className=\"gallery-container\">\n//         <div className=\"add-new-pump\" onClick={() => setShowAddForm(true)}>\n//           <span className=\"plus-sign\">+</span>\n//           <p className=\"add-text\">Add New Pump</p>\n//         </div>\n//       </div>\n\n//       {/* Add Pump Form (Visible when + sign is clicked) */}\n//       {showAddForm && (\n//         <div className=\"add-pump-form\">\n//           <h2>Add New Pump</h2>\n//           {error && <p className=\"error\">{error}</p>}\n//           <form onSubmit={handleAddPump}>\n//             <input\n//               type=\"text\"\n//               name=\"name\"\n//               value={newPumpData.name}\n//               onChange={handleInputChange}\n//               placeholder=\"Pump Name\"\n//               required\n//             />\n//             <input\n//               type=\"text\"\n//               name=\"price\"\n//               value={newPumpData.price}\n//               onChange={handleInputChange}\n//               placeholder=\"Pump Price\"\n//               required\n//             />\n//             <textarea\n//               name=\"description\"\n//               value={newPumpData.description}\n//               onChange={handleInputChange}\n//               placeholder=\"Description\"\n//               required\n//             />\n//             <input type=\"file\" onChange={handleImageUpload} required />\n//             <button type=\"submit\">Add Pump</button>\n//             <button type=\"button\" onClick={() => setShowAddForm(false)}>Cancel</button>\n//           </form>\n//         </div>\n//       )}\n\n//       {/* Pump Gallery */}\n//       <div className=\"gallery-container\">\n//         <div className=\"pump-gallery\">\n//           {currentView === 'residential' && (\n//             <>\n//               <h2>Residential Pumps</h2>\n//               {residentialPumps.length > 0 ? (\n//                 residentialPumps.map((pump) => (\n//                   <div key={pump.id} className=\"pump-item animate-on-scroll\">\n//                     <img src={`http://localhost:5001/uploads/${pump.image}`} alt={pump.name} />\n//                     <div className=\"pump-info\">\n//                       <p className=\"pump-name\">{pump.name}</p>\n//                       <p className=\"pump-price\">{pump.price}</p>\n//                       <Link to={`/pumpDetail/${pump.id}`} className=\"read-more-btn\">\n//                         Read more\n//                       </Link>\n//                       <button className=\"delete-btn\">Delete</button>\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <p>Loading Residential Pumps...</p>\n//               )}\n//             </>\n//           )}\n\n//           {currentView === 'agricultural' && (\n//             <>\n//               <h2>Agricultural Pumps</h2>\n//               {agriculturalPumps.length > 0 ? (\n//                 agriculturalPumps.map((pump) => (\n//                   <div key={pump.id} className=\"pump-item animate-on-scroll\">\n//                     <img src={`http://localhost:5001/uploads/${pump.image}`} alt={pump.name} />\n//                     <div className=\"pump-info\">\n//                       <p className=\"pump-name\">{pump.name}</p>\n//                       <p className=\"pump-price\">{pump.price}</p>\n//                       <Link to={`/pumpDetails/${pump.id}`} className=\"read-more-btn\">\n//                         Read more\n//                       </Link>\n//                       <button className=\"delete-btn\">Delete</button>\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <p>Loading Agricultural Pumps...</p>\n//               )}\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default AdminPortal;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../css/Admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPortal = () => {\n  _s();\n  // State management\n  const [pumps, setPumps] = useState({\n    residential: [],\n    agricultural: []\n  });\n  const [currentView, setCurrentView] = useState('residential');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    id: '',\n    name: '',\n    price: '',\n    features: '',\n    image: null,\n    rightImage: null\n  });\n\n  // Fetch pumps data\n  const fetchPumps = async type => {\n    try {\n      setLoading(true);\n      const endpoint = type === 'residential' ? '/api/pumps' : '/api/agpumps';\n      const response = await axios.get(`http://localhost:5001${endpoint}`);\n      setPumps(prev => ({\n        ...prev,\n        [type]: response.data\n      }));\n    } catch (err) {\n      console.error(`Error fetching ${type} pumps:`, err);\n      setError(`Failed to load ${type} pumps. Please try again.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial data fetch\n  useEffect(() => {\n    fetchPumps('residential');\n    fetchPumps('agricultural');\n  }, []);\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle file selection\n  const handleFileChange = e => {\n    const {\n      name,\n      files\n    } = e.target;\n    if (files && files[0]) {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    }\n  };\n\n  // Handle form submission\n  const handleAddPump = async e => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      // Create FormData object\n      const data = new FormData();\n\n      // Append all form fields\n      Object.keys(formData).forEach(key => {\n        if (key === 'features') {\n          // Convert features string to array and stringify\n          const featuresArray = formData[key].split(',').map(feature => feature.trim()).filter(feature => feature);\n          data.append(key, JSON.stringify(featuresArray));\n        } else if (formData[key] !== null) {\n          data.append(key, formData[key]);\n        }\n      });\n\n      // Determine endpoint based on current view\n      const endpoint = currentView === 'residential' ? '/api/pumps' : '/api/agpumps';\n\n      // Send request\n      await axios.post(`http://localhost:5001${endpoint}`, data, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Refresh pump list\n      await fetchPumps(currentView);\n\n      // Reset form\n      setFormData({\n        id: '',\n        name: '',\n        price: '',\n        features: '',\n        image: null,\n        rightImage: null\n      });\n      setShowAddForm(false);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error adding pump:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to add pump. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle pump deletion\n  const handleDeletePump = async id => {\n    if (!window.confirm('Are you sure you want to delete this pump?')) return;\n    try {\n      setLoading(true);\n      const endpoint = currentView === 'residential' ? '/api/pumps' : '/api/agpumps';\n      await axios.delete(`http://localhost:5001${endpoint}/${id}`);\n      await fetchPumps(currentView);\n    } catch (err) {\n      console.error('Error deleting pump:', err);\n      setError('Failed to delete pump. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Render pump list\n  const renderPumpList = () => {\n    const currentPumps = pumps[currentView] || [];\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 25\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 23\n    }, this);\n    if (!currentPumps.length) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No pumps found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 38\n    }, this);\n    return currentPumps.map(pump => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pump-item animate-on-scroll\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5001/uploads/${pump.image}`,\n        alt: pump.name,\n        onError: e => {\n          e.target.src = '/placeholder-image.jpg';\n          e.target.onerror = null;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pump-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pump-name\",\n          children: pump.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pump-price\",\n          children: [\"$\", Number(pump.price).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pump-features\",\n          children: Array.isArray(pump.features) && pump.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"feature-tag\",\n            children: feature\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-group\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/pump-details/${currentView}/${pump.id}`,\n            className: \"read-more-btn\",\n            children: \"View Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-btn\",\n            onClick: () => handleDeletePump(pump.id),\n            disabled: loading,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, pump.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-portal\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Portal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-toggle\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `toggle-btn ${currentView === 'residential' ? 'active' : ''}`,\n        onClick: () => setCurrentView('residential'),\n        children: \"Residential Pumps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `toggle-btn ${currentView === 'agricultural' ? 'active' : ''}`,\n        onClick: () => setCurrentView('agricultural'),\n        children: \"Agricultural Pumps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-pump-btn\",\n        onClick: () => setShowAddForm(true),\n        disabled: loading,\n        children: \"Add New Pump\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-pump-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Add New \", currentView === 'residential' ? 'Residential' : 'Agricultural', \" Pump\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddPump,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"id\",\n              children: \"Pump ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"id\",\n              type: \"text\",\n              name: \"id\",\n              value: formData.id,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"Pump Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"name\",\n              type: \"text\",\n              name: \"name\",\n              value: formData.name,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"price\",\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"price\",\n              type: \"number\",\n              name: \"price\",\n              value: formData.price,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"features\",\n              children: \"Features (comma-separated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"features\",\n              name: \"features\",\n              value: formData.features,\n              onChange: handleInputChange,\n              placeholder: \"Enter features separated by commas\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image\",\n              children: \"Main Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"image\",\n              type: \"file\",\n              name: \"image\",\n              onChange: handleFileChange,\n              accept: \"image/*\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"rightImage\",\n              children: \"Secondary Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"rightImage\",\n              type: \"file\",\n              name: \"rightImage\",\n              onChange: handleFileChange,\n              accept: \"image/*\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"submit-btn\",\n              disabled: loading,\n              children: loading ? 'Adding...' : 'Add Pump'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-btn\",\n              onClick: () => setShowAddForm(false),\n              disabled: loading,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pump-gallery\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [currentView === 'residential' ? 'Residential' : 'Agricultural', \" Pumps\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pump-grid\",\n        children: renderPumpList()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 385,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPortal, \"2y7i66gc88t5m2GbI8ta1QScH7U=\");\n_c = AdminPortal;\nexport default AdminPortal;\nvar _c;\n$RefreshReg$(_c, \"AdminPortal\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsxDEV","_jsxDEV","AdminPortal","_s","pumps","setPumps","residential","agricultural","currentView","setCurrentView","showAddForm","setShowAddForm","loading","setLoading","error","setError","formData","setFormData","id","name","price","features","image","rightImage","fetchPumps","type","endpoint","response","get","prev","data","err","console","handleInputChange","e","value","target","handleFileChange","files","handleAddPump","preventDefault","FormData","Object","keys","forEach","key","featuresArray","split","map","feature","trim","filter","append","JSON","stringify","post","headers","_err$response","_err$response$data","handleDeletePump","window","confirm","delete","renderPumpList","currentPumps","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","pump","src","alt","onError","onerror","Number","toLocaleString","Array","isArray","index","to","onClick","disabled","onSubmit","htmlFor","onChange","required","placeholder","accept","_c","$RefreshReg$"],"sources":["/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import { Link } from 'react-router-dom';\n// import '../css/Admin.css'; // Ensure CSS file path is correct\n\n// const AdminPortal = () => {\n//   const [residentialPumps, setResidentialPumps] = useState([]);\n//   const [agriculturalPumps, setAgriculturalPumps] = useState([]);\n//   const [image, setImage] = useState(null);\n//   const [error, setError] = useState(null);\n//   const [currentView, setCurrentView] = useState('residential');\n//   const [showAddForm, setShowAddForm] = useState(false); // Manage visibility of the add pump form\n//   const [newPumpData, setNewPumpData] = useState({\n//     name: '',\n//     price: '',\n//     description: '',\n//     image: ''\n//   });\n\n//   // Fetch residential pumps data\n//   useEffect(() => {\n//     axios\n//       .get('http://localhost:5001/api/pumps')\n//       .then((response) => setResidentialPumps(response.data))\n//       .catch((error) => console.error('Error fetching residential pumps:', error));\n//   }, []);\n\n//   // Fetch agricultural pumps data\n//   useEffect(() => {\n//     axios\n//       .get('http://localhost:5001/api/agpumps')\n//       .then((response) => setAgriculturalPumps(response.data))\n//       .catch((error) => console.error('Error fetching agricultural pumps:', error));\n//   }, []);\n\n//   // Handle image upload\n//   const handleImageUpload = async (e) => {\n//     const files = e.target.files;\n//     const formData = new FormData();\n//     formData.append('image', files[0]);\n\n//     try {\n//       const response = await axios.post('http://localhost:5001/api/upload', formData);\n//       setImage(response.data.filePath); // Assuming backend returns filePath\n//     } catch (err) {\n//       console.error('Error uploading image:', err);\n//       setError('Error uploading image.');\n//     }\n//   };\n\n//   // Handle new pump form input change\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setNewPumpData((prevState) => ({\n//       ...prevState,\n//       [name]: value\n//     }));\n//   };\n\n//   // Handle adding new pump to the database\n//   const handleAddPump = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const pumpData = { ...newPumpData, image: image }; // Include image path in the pump data\n//       await axios.post('http://localhost:5001/api/pumps', pumpData);\n//       setShowAddForm(false); // Close the form after submitting\n//       setNewPumpData({ name: '', price: '', description: '', image: '' }); // Reset form data\n//       // Reload residential pumps after adding a new one\n//       const response = await axios.get('http://localhost:5001/api/pumps');\n//       setResidentialPumps(response.data);\n//     } catch (error) {\n//       console.error('Error adding new pump:', error);\n//       setError('Error adding new pump.');\n//     }\n//   };\n\n//   return (\n//     <div className=\"admin-portal\">\n//       <h1>Admin Portal</h1>\n\n//       {/* Sidebar for toggling views */}\n//       <div className=\"sidebar\">\n//         <button\n//           className={`sidebar-btn ${currentView === 'residential' ? 'active' : ''}`}\n//           onClick={() => setCurrentView('residential')}\n//         >\n//           Residential Pumps\n//         </button>\n//         <button\n//           className={`sidebar-btn ${currentView === 'agricultural' ? 'active' : ''}`}\n//           onClick={() => setCurrentView('agricultural')}\n//         >\n//           Agricultural Pumps\n//         </button>\n//       </div>\n\n//       {/* Add New Pump Catalog */}\n//       <div className=\"gallery-container\">\n//         <div className=\"add-new-pump\" onClick={() => setShowAddForm(true)}>\n//           <span className=\"plus-sign\">+</span>\n//           <p className=\"add-text\">Add New Pump</p>\n//         </div>\n//       </div>\n\n//       {/* Add Pump Form (Visible when + sign is clicked) */}\n//       {showAddForm && (\n//         <div className=\"add-pump-form\">\n//           <h2>Add New Pump</h2>\n//           {error && <p className=\"error\">{error}</p>}\n//           <form onSubmit={handleAddPump}>\n//             <input\n//               type=\"text\"\n//               name=\"name\"\n//               value={newPumpData.name}\n//               onChange={handleInputChange}\n//               placeholder=\"Pump Name\"\n//               required\n//             />\n//             <input\n//               type=\"text\"\n//               name=\"price\"\n//               value={newPumpData.price}\n//               onChange={handleInputChange}\n//               placeholder=\"Pump Price\"\n//               required\n//             />\n//             <textarea\n//               name=\"description\"\n//               value={newPumpData.description}\n//               onChange={handleInputChange}\n//               placeholder=\"Description\"\n//               required\n//             />\n//             <input type=\"file\" onChange={handleImageUpload} required />\n//             <button type=\"submit\">Add Pump</button>\n//             <button type=\"button\" onClick={() => setShowAddForm(false)}>Cancel</button>\n//           </form>\n//         </div>\n//       )}\n\n//       {/* Pump Gallery */}\n//       <div className=\"gallery-container\">\n//         <div className=\"pump-gallery\">\n//           {currentView === 'residential' && (\n//             <>\n//               <h2>Residential Pumps</h2>\n//               {residentialPumps.length > 0 ? (\n//                 residentialPumps.map((pump) => (\n//                   <div key={pump.id} className=\"pump-item animate-on-scroll\">\n//                     <img src={`http://localhost:5001/uploads/${pump.image}`} alt={pump.name} />\n//                     <div className=\"pump-info\">\n//                       <p className=\"pump-name\">{pump.name}</p>\n//                       <p className=\"pump-price\">{pump.price}</p>\n//                       <Link to={`/pumpDetail/${pump.id}`} className=\"read-more-btn\">\n//                         Read more\n//                       </Link>\n//                       <button className=\"delete-btn\">Delete</button>\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <p>Loading Residential Pumps...</p>\n//               )}\n//             </>\n//           )}\n\n//           {currentView === 'agricultural' && (\n//             <>\n//               <h2>Agricultural Pumps</h2>\n//               {agriculturalPumps.length > 0 ? (\n//                 agriculturalPumps.map((pump) => (\n//                   <div key={pump.id} className=\"pump-item animate-on-scroll\">\n//                     <img src={`http://localhost:5001/uploads/${pump.image}`} alt={pump.name} />\n//                     <div className=\"pump-info\">\n//                       <p className=\"pump-name\">{pump.name}</p>\n//                       <p className=\"pump-price\">{pump.price}</p>\n//                       <Link to={`/pumpDetails/${pump.id}`} className=\"read-more-btn\">\n//                         Read more\n//                       </Link>\n//                       <button className=\"delete-btn\">Delete</button>\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <p>Loading Agricultural Pumps...</p>\n//               )}\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default AdminPortal;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../css/Admin.css';\n\nconst AdminPortal = () => {\n  // State management\n  const [pumps, setPumps] = useState({ residential: [], agricultural: [] });\n  const [currentView, setCurrentView] = useState('residential');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    id: '',\n    name: '',\n    price: '',\n    features: '',\n    image: null,\n    rightImage: null\n  });\n\n  // Fetch pumps data\n  const fetchPumps = async (type) => {\n    try {\n      setLoading(true);\n      const endpoint = type === 'residential' ? '/api/pumps' : '/api/agpumps';\n      const response = await axios.get(`http://localhost:5001${endpoint}`);\n      setPumps(prev => ({\n        ...prev,\n        [type]: response.data\n      }));\n    } catch (err) {\n      console.error(`Error fetching ${type} pumps:`, err);\n      setError(`Failed to load ${type} pumps. Please try again.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial data fetch\n  useEffect(() => {\n    fetchPumps('residential');\n    fetchPumps('agricultural');\n  }, []);\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle file selection\n  const handleFileChange = (e) => {\n    const { name, files } = e.target;\n    if (files && files[0]) {\n      setFormData(prev => ({\n        ...prev,\n        [name]: files[0]\n      }));\n    }\n  };\n\n  // Handle form submission\n  const handleAddPump = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n\n    try {\n      // Create FormData object\n      const data = new FormData();\n      \n      // Append all form fields\n      Object.keys(formData).forEach(key => {\n        if (key === 'features') {\n          // Convert features string to array and stringify\n          const featuresArray = formData[key]\n            .split(',')\n            .map(feature => feature.trim())\n            .filter(feature => feature);\n          data.append(key, JSON.stringify(featuresArray));\n        } else if (formData[key] !== null) {\n          data.append(key, formData[key]);\n        }\n      });\n\n      // Determine endpoint based on current view\n      const endpoint = currentView === 'residential' ? '/api/pumps' : '/api/agpumps';\n      \n      // Send request\n      await axios.post(`http://localhost:5001${endpoint}`, data, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      // Refresh pump list\n      await fetchPumps(currentView);\n      \n      // Reset form\n      setFormData({\n        id: '',\n        name: '',\n        price: '',\n        features: '',\n        image: null,\n        rightImage: null\n      });\n      \n      setShowAddForm(false);\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError(err.response?.data?.error || 'Failed to add pump. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle pump deletion\n  const handleDeletePump = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this pump?')) return;\n\n    try {\n      setLoading(true);\n      const endpoint = currentView === 'residential' ? '/api/pumps' : '/api/agpumps';\n      await axios.delete(`http://localhost:5001${endpoint}/${id}`);\n      await fetchPumps(currentView);\n    } catch (err) {\n      console.error('Error deleting pump:', err);\n      setError('Failed to delete pump. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Render pump list\n  const renderPumpList = () => {\n    const currentPumps = pumps[currentView] || [];\n\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p className=\"error-message\">{error}</p>;\n    if (!currentPumps.length) return <p>No pumps found.</p>;\n\n    return currentPumps.map((pump) => (\n      <div key={pump.id} className=\"pump-item animate-on-scroll\">\n        <img \n          src={`http://localhost:5001/uploads/${pump.image}`} \n          alt={pump.name}\n          onError={(e) => {\n            e.target.src = '/placeholder-image.jpg';\n            e.target.onerror = null;\n          }}\n        />\n        <div className=\"pump-info\">\n          <p className=\"pump-name\">{pump.name}</p>\n          <p className=\"pump-price\">${Number(pump.price).toLocaleString()}</p>\n          <div className=\"pump-features\">\n            {Array.isArray(pump.features) && pump.features.map((feature, index) => (\n              <span key={index} className=\"feature-tag\">{feature}</span>\n            ))}\n          </div>\n          <div className=\"button-group\">\n            <Link \n              to={`/pump-details/${currentView}/${pump.id}`} \n              className=\"read-more-btn\"\n            >\n              View Details\n            </Link>\n            <button \n              className=\"delete-btn\"\n              onClick={() => handleDeletePump(pump.id)}\n              disabled={loading}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"admin-portal\">\n      <h1>Admin Portal</h1>\n\n      {/* View Toggle */}\n      <div className=\"view-toggle\">\n        <button\n          className={`toggle-btn ${currentView === 'residential' ? 'active' : ''}`}\n          onClick={() => setCurrentView('residential')}\n        >\n          Residential Pumps\n        </button>\n        <button\n          className={`toggle-btn ${currentView === 'agricultural' ? 'active' : ''}`}\n          onClick={() => setCurrentView('agricultural')}\n        >\n          Agricultural Pumps\n        </button>\n      </div>\n\n      {/* Add New Pump Button */}\n      <div className=\"action-bar\">\n        <button \n          className=\"add-pump-btn\"\n          onClick={() => setShowAddForm(true)}\n          disabled={loading}\n        >\n          Add New Pump\n        </button>\n      </div>\n\n      {/* Add Pump Form */}\n      {showAddForm && (\n        <div className=\"modal-overlay\">\n          <div className=\"add-pump-form\">\n            <h2>Add New {currentView === 'residential' ? 'Residential' : 'Agricultural'} Pump</h2>\n            {error && <p className=\"error-message\">{error}</p>}\n            \n            <form onSubmit={handleAddPump}>\n              <div className=\"form-group\">\n                <label htmlFor=\"id\">Pump ID</label>\n                <input\n                  id=\"id\"\n                  type=\"text\"\n                  name=\"id\"\n                  value={formData.id}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Pump Name</label>\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"price\">Price</label>\n                <input\n                  id=\"price\"\n                  type=\"number\"\n                  name=\"price\"\n                  value={formData.price}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"features\">Features (comma-separated)</label>\n                <textarea\n                  id=\"features\"\n                  name=\"features\"\n                  value={formData.features}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter features separated by commas\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"image\">Main Image</label>\n                <input\n                  id=\"image\"\n                  type=\"file\"\n                  name=\"image\"\n                  onChange={handleFileChange}\n                  accept=\"image/*\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"rightImage\">Secondary Image</label>\n                <input\n                  id=\"rightImage\"\n                  type=\"file\"\n                  name=\"rightImage\"\n                  onChange={handleFileChange}\n                  accept=\"image/*\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-actions\">\n                <button \n                  type=\"submit\" \n                  className=\"submit-btn\"\n                  disabled={loading}\n                >\n                  {loading ? 'Adding...' : 'Add Pump'}\n                </button>\n                <button \n                  type=\"button\" \n                  className=\"cancel-btn\"\n                  onClick={() => setShowAddForm(false)}\n                  disabled={loading}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Pump Gallery */}\n      <div className=\"pump-gallery\">\n        <h2>{currentView === 'residential' ? 'Residential' : 'Agricultural'} Pumps</h2>\n        <div className=\"pump-grid\">\n          {renderPumpList()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminPortal;"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC;IAAEU,WAAW,EAAE,EAAE;IAAE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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}