{"ast":null,"code":"var _jsxFileName = \"/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPortal = () => {\n  _s();\n  const [pumps, setPumps] = useState([]);\n  const [newPump, setNewPump] = useState({\n    name: '',\n    price: '',\n    features: ''\n  });\n  const [images, setImages] = useState({\n    mainImage: null,\n    tableImage: null\n  });\n  const [error, setError] = useState('');\n\n  // Fetch existing pumps\n  useEffect(() => {\n    const fetchPumps = async () => {\n      try {\n        const response = await axios.get('http://localhost:5001/api/pumps');\n        setPumps(response.data.pumps);\n      } catch (error) {\n        console.error('Error fetching pumps:', error);\n        setError('Failed to fetch pumps.');\n      }\n    };\n    fetchPumps();\n  }, []);\n\n  // Handle file input\n  const handleFileChange = e => {\n    const {\n      name,\n      files\n    } = e.target;\n    setImages(prev => ({\n      ...prev,\n      [name]: files[0]\n    }));\n  };\n\n  // Handle adding a new pump\n  const handleAddPump = async () => {\n    if (!newPump.name || !newPump.price || !newPump.features || !images.mainImage || !images.tableImage) {\n      setError('Please fill all fields and upload images.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('name', newPump.name);\n    formData.append('price', newPump.price);\n    formData.append('features', newPump.features);\n    formData.append('image', images.mainImage);\n    formData.append('tableImage', images.tableImage);\n    try {\n      const response = await axios.post('http://localhost:5001/api/pumps', formData);\n      setPumps([...pumps, response.data.pump]);\n      setNewPump({\n        name: '',\n        price: '',\n        features: ''\n      });\n      setImages({\n        mainImage: null,\n        tableImage: null\n      });\n      setError('');\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError('Error adding pump.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Portal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add New Pump\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      value: newPump.name,\n      onChange: e => setNewPump({\n        ...newPump,\n        name: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Price\",\n      value: newPump.price,\n      onChange: e => setNewPump({\n        ...newPump,\n        price: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Features (comma-separated)\",\n      value: newPump.features,\n      onChange: e => setNewPump({\n        ...newPump,\n        features: e.target.value\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"mainImage\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"tableImage\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddPump,\n      children: \"Add Pump\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Existing Pumps\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), pumps.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No pumps available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this) : pumps.map(pump => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5001${pump.image}`,\n        alt: pump.name,\n        width: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: pump.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: pump.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, pump._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPortal, \"JolMpOL+2yqeV5VXPTyO78Wfrrw=\");\n_c = AdminPortal;\nexport default AdminPortal;\nvar _c;\n$RefreshReg$(_c, \"AdminPortal\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","AdminPortal","_s","pumps","setPumps","newPump","setNewPump","name","price","features","images","setImages","mainImage","tableImage","error","setError","fetchPumps","response","get","data","console","handleFileChange","e","files","target","prev","handleAddPump","formData","FormData","append","post","pump","err","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","type","placeholder","value","onChange","onClick","length","map","src","image","alt","width","_id","_c","$RefreshReg$"],"sources":["/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst AdminPortal = () => {\n  const [pumps, setPumps] = useState([]);\n  const [newPump, setNewPump] = useState({ name: '', price: '', features: '' });\n  const [images, setImages] = useState({ mainImage: null, tableImage: null });\n  const [error, setError] = useState('');\n\n  // Fetch existing pumps\n  useEffect(() => {\n    const fetchPumps = async () => {\n      try {\n        const response = await axios.get('http://localhost:5001/api/pumps');\n        setPumps(response.data.pumps);\n      } catch (error) {\n        console.error('Error fetching pumps:', error);\n        setError('Failed to fetch pumps.');\n      }\n    };\n\n    fetchPumps();\n  }, []);\n\n  // Handle file input\n  const handleFileChange = (e) => {\n    const { name, files } = e.target;\n    setImages((prev) => ({ ...prev, [name]: files[0] }));\n  };\n\n  // Handle adding a new pump\n  const handleAddPump = async () => {\n    if (!newPump.name || !newPump.price || !newPump.features || !images.mainImage || !images.tableImage) {\n      setError('Please fill all fields and upload images.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('name', newPump.name);\n    formData.append('price', newPump.price);\n    formData.append('features', newPump.features);\n    formData.append('image', images.mainImage);\n    formData.append('tableImage', images.tableImage);\n\n    try {\n      const response = await axios.post('http://localhost:5001/api/pumps', formData);\n      setPumps([...pumps, response.data.pump]);\n      setNewPump({ name: '', price: '', features: '' });\n      setImages({ mainImage: null, tableImage: null });\n      setError('');\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError('Error adding pump.');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Admin Portal</h1>\n      {error && <div style={{ color: 'red' }}>{error}</div>}\n\n      <h2>Add New Pump</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Name\"\n        value={newPump.name}\n        onChange={(e) => setNewPump({ ...newPump, name: e.target.value })}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Price\"\n        value={newPump.price}\n        onChange={(e) => setNewPump({ ...newPump, price: e.target.value })}\n      />\n      <textarea\n        placeholder=\"Features (comma-separated)\"\n        value={newPump.features}\n        onChange={(e) => setNewPump({ ...newPump, features: e.target.value })}\n      />\n      <input type=\"file\" name=\"mainImage\" onChange={handleFileChange} />\n      <input type=\"file\" name=\"tableImage\" onChange={handleFileChange} />\n      <button onClick={handleAddPump}>Add Pump</button>\n\n      <h2>Existing Pumps</h2>\n      {pumps.length === 0 ? (\n        <p>No pumps available.</p>\n      ) : (\n        pumps.map((pump) => (\n          <div key={pump._id}>\n            <img src={`http://localhost:5001${pump.image}`} alt={pump.name} width=\"100\" />\n            <p>{pump.name}</p>\n            <p>{pump.price}</p>\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default AdminPortal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}