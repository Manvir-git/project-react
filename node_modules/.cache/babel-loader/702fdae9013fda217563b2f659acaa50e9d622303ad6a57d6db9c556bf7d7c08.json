{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n\n  // Validate form inputs\n  if (!pump.name || !pump.price || !pump.link || !pump.image) {\n    setError('Please fill all fields and upload an image.');\n    return;\n  }\n  try {\n    // Create a FormData object and append the fields\n    const formData = new FormData();\n    formData.append('name', pump.name);\n    formData.append('price', pump.price);\n    formData.append('link', pump.link);\n    formData.append('image', pump.image); // Add the image file\n\n    const response = await axios.post('http://localhost:3001', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data' // This tells the server to expect a file upload\n      }\n    });\n    console.log('Pump added:', response.data);\n    setError(''); // Clear error message\n    setPump({\n      name: '',\n      price: '',\n      link: '',\n      image: ''\n    }); // Reset form\n  } catch (err) {\n    console.error('Error adding pump:', err);\n    setError('Error adding pump. Please try again.');\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","pump","name","price","link","image","setError","formData","FormData","append","response","axios","post","headers","console","log","data","setPump","err","error"],"sources":["/Users/manvirsingh/Documents/react1/project/src/components/AdminPortal.js"],"sourcesContent":["const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    // Validate form inputs\n    if (!pump.name || !pump.price || !pump.link || !pump.image) {\n      setError('Please fill all fields and upload an image.');\n      return;\n    }\n  \n    try {\n      // Create a FormData object and append the fields\n      const formData = new FormData();\n      formData.append('name', pump.name);\n      formData.append('price', pump.price);\n      formData.append('link', pump.link);\n      formData.append('image', pump.image); // Add the image file\n  \n      const response = await axios.post('http://localhost:3001', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data', // This tells the server to expect a file upload\n        },\n      });\n  \n      console.log('Pump added:', response.data);\n      setError(''); // Clear error message\n      setPump({ name: '', price: '', link: '', image: '' }); // Reset form\n    } catch (err) {\n      console.error('Error adding pump:', err);\n      setError('Error adding pump. Please try again.');\n    }\n  };\n  "],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;;EAElB;EACA,IAAI,CAACC,IAAI,CAACC,IAAI,IAAI,CAACD,IAAI,CAACE,KAAK,IAAI,CAACF,IAAI,CAACG,IAAI,IAAI,CAACH,IAAI,CAACI,KAAK,EAAE;IAC1DC,QAAQ,CAAC,6CAA6C,CAAC;IACvD;EACF;EAEA,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAER,IAAI,CAACC,IAAI,CAAC;IAClCK,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAER,IAAI,CAACE,KAAK,CAAC;IACpCI,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAER,IAAI,CAACG,IAAI,CAAC;IAClCG,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAER,IAAI,CAACI,KAAK,CAAC,CAAC,CAAC;;IAEtC,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,uBAAuB,EAAEL,QAAQ,EAAE;MACnEM,OAAO,EAAE;QACP,cAAc,EAAE,qBAAqB,CAAE;MACzC;IACF,CAAC,CAAC;IAEFC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEL,QAAQ,CAACM,IAAI,CAAC;IACzCV,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;IACdW,OAAO,CAAC;MAAEf,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAG,CAAC,CAAC,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOa,GAAG,EAAE;IACZJ,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAED,GAAG,CAAC;IACxCZ,QAAQ,CAAC,sCAAsC,CAAC;EAClD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}